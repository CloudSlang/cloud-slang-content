#   (c) Copyright 2014 Hewlett-Packard Development Company, L.P.
#   All rights reserved. This program and the accompanying materials
#   are made available under the terms of the Apache License v2.0 which accompany this distribution.
#
#   The Apache License is available at
#   http://www.apache.org/licenses/LICENSE-2.0
#
####################################################

general:
  artifacts:
    - "./cslang-builder/logs/builder.log"

machine:
  environment:
    JAVA_OPTS: -Xms400m -Xmx2g -XX:PermSize=128m -XX:MaxPermSize=256m
  pre:
    - sudo curl -L -o /usr/bin/docker 'http://s3-external-1.amazonaws.com/circle-downloads/docker-1.8.2-circleci'; sudo chmod 0755 /usr/bin/docker; true

  services:
    - docker

dependencies:
  override:
    - git fetch origin
    - git branch
    - git diff --name-only origin/master -- > difflist.yaml
    - echo difflist.yaml

test:
  override:
    - echo 'SMART MODE'
